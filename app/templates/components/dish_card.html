{#
ÊñôÁêÜ„Ç´„Éº„Éâ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà

‰ΩøÁî®ÊñπÊ≥ï:
    {% from 'components/dish_card.html' import dish_card %}
    {{ dish_card(dish) }}

ÂºïÊï∞:
    dish: Dish„É¢„Éá„É´„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ
#}

{% macro dish_card(dish) %}
<div class="dish-card bg-surface rounded-xl p-4 shadow-lg
            hover:shadow-xl transition-all duration-300
            border border-slate-700 hover:border-primary relative">

    <!-- Áï™Âè∑„Éê„ÉÉ„Ç∏ -->
    {% if dish.number %}
    <div class="absolute top-3 left-3 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg">
        {{ dish.number }}
    </div>
    {% endif %}

    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <div class="flex justify-between items-start mb-3 {% if dish.number %}ml-10{% endif %}">
        <div>
            <h3 class="text-lg font-bold text-slate-50">
                {{ dish.japanese_name }}
            </h3>
            <p class="text-sm text-slate-400">
                {{ dish.original_name }}
            </p>
        </div>
        {% if dish.price_range %}
        <span class="px-2 py-1 bg-accent/20 text-accent rounded text-sm">
            {{ dish.price_range.value }}
        </span>
        {% endif %}
    </div>

    <!-- Ë™¨Êòé -->
    <p class="text-slate-300 text-sm mb-3">
        {{ dish.description }}
    </p>

    <!-- Ëæõ„Åï„ÉªÁîò„Åï„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº -->
    <div class="flex gap-4 mb-3">
        <div class="flex items-center gap-1">
            <span class="text-sm">üå∂Ô∏è</span>
            {% for i in range(5) %}
                <span class="w-2 h-2 rounded-full
                    {% if i < dish.spiciness %}bg-red-500{% else %}bg-slate-600{% endif %}">
                </span>
            {% endfor %}
        </div>
        <div class="flex items-center gap-1">
            <span class="text-sm">üçØ</span>
            {% for i in range(5) %}
                <span class="w-2 h-2 rounded-full
                    {% if i < dish.sweetness %}bg-amber-500{% else %}bg-slate-600{% endif %}">
                </span>
            {% endfor %}
        </div>
    </div>

    <!-- ÊùêÊñô„Çø„Ç∞ -->
    <div class="flex flex-wrap gap-1 mb-3">
        {% for ingredient in dish.ingredients %}
        <span class="px-2 py-0.5 bg-slate-700 rounded-full text-xs text-slate-300">
            {{ ingredient }}
        </span>
        {% endfor %}
    </div>

    <!-- „Ç¢„É¨„É´„ÇÆ„ÉºË≠¶Âëä -->
    {% if dish.allergens %}
    <div class="mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded">
        <p class="text-xs text-red-400">
            ‚ö†Ô∏è „Ç¢„É¨„É´„ÇÆ„Éº: {{ dish.allergens | join(', ') }}
        </p>
    </div>
    {% endif %}

    <!-- „Ç´„ÉÜ„Ç¥„É™„Éê„ÉÉ„Ç∏ -->
    {% if dish.category %}
    <div class="mt-3">
        <span class="px-2 py-1 bg-primary/20 text-primary rounded text-xs">
            {{ dish.category.value }}
        </span>
    </div>
    {% endif %}
</div>
{% endmacro %}
